---
import { Image } from 'astro:assets';
import Section from '../components/Section.astro';
import GithubIcon from '@lucide/astro/icons/github';
import ExternalLinkIcon from '@lucide/astro/icons/external-link';
import config from '../config';
---

<Section id="projects" title="Projects">
  <div class="grid gap-8 sm:grid-cols-2 grid-cols-1 lg:flex lg:flex-wrap">
    {
      config.projects.map((project) => (
        <div class="bg-linear-to-br from-white/10 to-white/5 rounded-xl overflow-hidden border border-white/10 hover:border-white/20 duration-150 flex flex-col md:w-[22rem]">
          <Image
            src={project.thumbnail}
            alt={project.title}
            class="w-full object-cover h-42"
            width={352}
            height={168}
            loading="eager"
          />

          <div class="p-4 flex flex-col grow">
            <h3 class="text-lg font-semibold mb-2">{project.title}</h3>
            <p class="text-sm text-gray-400 mb-4">{project.description}</p>

            <div class="flex flex-wrap gap-2 mb-4">
              {project.tags.map((tag) => (
                <span class="px-2 py-1 text-xs bg-white/20 rounded-xl">{tag}</span>
              ))}
            </div>

            <div class="flex items-center gap-x-3 pt-4 border-t border-white/10 mt-auto">
              {project.url && (
                <a
                  href={project.url}
                  class="flex items-center text-sm text-white/80 hover:text-white duration-150"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <ExternalLinkIcon class="size-4 mr-1.5" />
                  View Project
                </a>
              )}

              {project.repository && (
                <a
                  href={project.repository}
                  class={`inline-flex items-center text-sm text-white/80 hover:text-white duration-150 ${project.url && 'border-l border-white/10 pl-3'}`}
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <GithubIcon class="size-4 mr-1.5" />
                  View on GitHub
                </a>
              )}
            </div>
          </div>
        </div>
      ))
    }
  </div>
</Section>
